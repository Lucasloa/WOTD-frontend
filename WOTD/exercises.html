<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercises</title>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="./assets/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.21.9/dist/css/uikit.min.css">
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.9/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.9/dist/js/uikit-icons.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
</head>
<body>
    <style>
        #app {
    margin-top: 200px !important;
    position: relative; /* Ensure it respects the margin */
}

    </style>
    <!-- Hero Section with Background Image -->
    <header class="uk-position-relative uk-light">
        <div class="uk-overlay uk-overlay-primary uk-position-cover"></div>
        <nav class="uk-navbar-container uk-navbar-transparent">
            <div class="uk-container">
                <div uk-navbar>
                    <!-- Left Navigation and Logo -->
                    <div class="uk-navbar-left">
                        <a href="index.html" class="uk-navbar-item uk-logo">
                            <img src="assets/WorkOutToDoLogo.png" alt="Workout of the Day Logo" width="50" height="auto">
                        </a>
                        <ul class="uk-navbar-nav">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="exercises.html">Workouts</a></li>
                            <li><a href="Konkurrence.html">Competition</a></li>
                            <li>
                                <a href="#">More</a>
                                <div class="uk-navbar-dropdown">
                                    <ul class="uk-nav uk-navbar-dropdown-nav">
                                        <li><a href="#">Blog</a></li>
                                        <li><a href="aboutus.html">About</a></li>
                                        <li class="uk-nav-divider"></li>
                                        <li><a href="#">Contact</a></li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Right Navigation -->
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav">
                            <li><a href="login.html">Login</a></li>
                            <li><a href="#">Sign Up</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="uk-position-center uk-text-center">
        <h1 class="uk-heading-large uk-text-bold">Explore Exercises</h1>
        <p class="uk-text-lead">Discover workouts tailored for every muscle group.</p>
    </div>

    <!-- Search Section -->
    <div class="uk-section uk-section-small uk-background-muted">
        <div class="uk-container">
            <h2 class="uk-heading-line"><span>Find Your Exercise</span></h2>
            <div class="uk-margin uk-flex uk-flex-middle">
                <input 
                    class="uk-input uk-form-width-large" 
                    type="text" 
                    id="search-input" 
                    placeholder="Search for a muscle (e.g., biceps)">
                <button @click="searchExercises" class="uk-button uk-button-primary uk-margin-left" id="search-button">Search</button>
            </div>
        </div>
    </div>

    <!-- Exercise Grid Section -->
    <div id="app" class="uk-container uk-margin-large-top" style="margin-top: -px;">
          <div class="uk-grid-small uk-child-width-1-3@m uk-flex-center" uk-grid>

            <!-- Exercise cards will be dynamically injected here by Vue -->

             <div v-for="exercise in exercises" :key="exercise.id">

                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <!-- Include Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Include the Vue.js script -->
    <script src="./exercises.js"></script>

    <script>
        // Check for logged-in user
        const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
    
        if (loggedInUser) {
            const navbarRight = document.querySelector('.uk-navbar-right');
    
            // Update navbar with logout and admin dashboard button (if admin)
            let navItems = `
                <li class="uk-navbar-item">Welcome, <strong>${loggedInUser.fName}</strong>!</li>
                <li><a href="#" id="logout">Logout</a></li>
                <li><a id="Calendar" href="calendar.html">Calendar</a></li>
                <li><a id="Profile" href="profile.html">Profile</a></li>
            `;
    
            if (loggedInUser.isAdmin) {
                navItems = `
                    ${navItems}
                    <li><a href="admin-dashboard.html">Admin Dashboard</a></li>
                `;
            }
    
            navbarRight.innerHTML = navItems;
    
            // Add logout functionality
            document.getElementById('logout').addEventListener('click', () => {
                localStorage.removeItem('loggedInUser'); // Clear session
                alert('You have logged out.');
                window.location.reload(); // Reload page
            });
        }
    </script>
    
</body>
</html>
